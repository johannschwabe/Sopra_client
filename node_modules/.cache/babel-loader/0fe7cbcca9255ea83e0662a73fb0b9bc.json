{"ast":null,"code":"import _defineProperty from \"/Users/Johann/Desktop/UZH/4. Semester/SoPra/code/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/Johann/Desktop/UZH/4. Semester/SoPra/code/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Johann/Desktop/UZH/4. Semester/SoPra/code/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Johann/Desktop/UZH/4. Semester/SoPra/code/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Johann/Desktop/UZH/4. Semester/SoPra/code/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Johann/Desktop/UZH/4. Semester/SoPra/code/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/Johann/Desktop/UZH/4. Semester/SoPra/code/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/Johann/Desktop/UZH/4. Semester/SoPra/code/client/src/components/register/Register.js\";\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: center;\\n  margin-top: 20px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  color: white;\\n  margin-bottom: 10px;\\n  text-transform: uppercase;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  &::placeholder {\\n    color: rgba(255, 255, 255, 0.2);\\n  }\\n  height: 35px;\\n  padding-left: 15px;\\n  margin-left: -4px;\\n  border: none;\\n  border-radius: 20px;\\n  margin-bottom: 20px;\\n  background: rgba(255, 255, 255, 0.2);\\n  color: white;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  width: 60%;\\n  height: 375px;\\n  font-size: 16px;\\n  font-weight: 300;\\n  padding-left: 37px;\\n  padding-right: 37px;\\n  border-radius: 5px;\\n  background: linear-gradient(rgb(27, 124, 186), rgb(2, 46, 101));\\n  transition: opacity 0.5s ease, transform 0.5s ease;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-top: 2em;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  min-height: 300px;\\n  justify-content: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { BaseContainer } from \"../../helpers/layout\";\nimport { getDomain } from \"../../helpers/getDomain\";\nimport User from \"../shared/models/User\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button } from \"../../views/design/Button\";\nvar FormContainer = styled.div(_templateObject());\nvar Form = styled.div(_templateObject2());\nvar InputField = styled.input(_templateObject3());\nvar Label = styled.label(_templateObject4());\nvar ButtonContainer = styled.div(_templateObject5());\n/**\n * Classes in React allow you to have an internal state within the class and to have the React life-cycle for your component.\n * You should have a class (instead of a functional component) when:\n * - You need an internal state that cannot be achieved via props from other parent components\n * - You fetch data from the server (e.g., in componentDidMount())\n * - You want to access the DOM via Refs\n * https://reactjs.org/docs/react-component.html\n * @Class\n */\n\nvar Register =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Register, _React$Component);\n\n  /**\n   * If you don’t initialize the state and you don’t bind methods, you don’t need to implement a constructor for your React component.\n   * The constructor for a React component is called before it is mounted (rendered).\n   * In this case the initial state is defined in the constructor. The state is a JS object containing two fields: name and username\n   * These fields are then handled in the onChange() methods in the resp. InputFields\n   */\n  function Register() {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Register).call(this));\n    _this.state = {\n      birthday: null,\n      username: null,\n      password: null\n    };\n    return _this;\n  }\n  /**\n   * HTTP POST request is sent to the backend.\n   * If the request is successful, a new user is returned to the front-end and its token is stored in the localStorage.\n   */\n\n\n  _createClass(Register, [{\n    key: \"register\",\n    value: function register() {\n      var _this2 = this;\n\n      fetch(\"\".concat(getDomain(), \"/users\"), {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          username: this.state.username,\n          birthday: this.state.birthday,\n          password: this.state.password\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (returnedUser) {\n        var user = new User(returnedUser); // user login successfully worked --> navigate to the route /login in the GameRouter\n\n        _this2.props.history.push(\"/login\");\n      }).catch(function (err) {\n        if (err.message.match(/Failed to fetch/)) {\n          alert(\"The server cannot be reached. Did you start it?\");\n        } else if (err.message.match(/JSON.parse/)) {\n          alert(\"Username is already occupied\");\n        } else {\n          alert(\"Something went wrong during the Registration: \".concat(err.message));\n        }\n      });\n    }\n    /**\n     *  Every time the user enters something in the input field, the state gets updated.\n     * @param key (the key of the state for identifying the field that needs to be updated)\n     * @param value (the value that gets assigned to the identified state key)\n     */\n\n  }, {\n    key: \"handleInputChange\",\n    value: function handleInputChange(key, value) {\n      // Example: if the key is username, this statement is the equivalent to the following one:\n      // this.setState({'username': value});\n      this.setState(_defineProperty({}, key, value));\n    }\n    /**\n     * componentDidMount() is invoked immediately after a component is mounted (inserted into the tree).\n     * Initialization that requires DOM nodes should go here.\n     * If you need to load data from a remote endpoint, this is a good place to instantiate the network request.\n     * You may call setState() immediately in componentDidMount().\n     * It will trigger an extra rendering, but it will happen before the browser updates the screen.\n     */\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(BaseContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(FormContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Username\"), React.createElement(InputField, {\n        placeholder: \"Enter here..\",\n        onChange: function onChange(e) {\n          _this3.handleInputChange(\"username\", e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Birthday\"), React.createElement(InputField, {\n        placeholder: \"Enter here.. DD:MM:YYYY\",\n        onChange: function onChange(e) {\n          _this3.handleInputChange(\"birthday\", e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }), React.createElement(Label, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Password\"), React.createElement(InputField, {\n        placeholder: \"Enter here..\",\n        onChange: function onChange(e) {\n          _this3.handleInputChange(\"password\", e.target.value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }), React.createElement(ButtonContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(Button, {\n        disabled: !this.state.username || !this.state.password,\n        width: \"50%\",\n        onClick: function onClick() {\n          _this3.register();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Register\")))));\n    }\n  }]);\n\n  return Register;\n}(React.Component);\n/**\n * You can get access to the history object's properties via the withRouter.\n * withRouter will pass updated match, location, and history props to the wrapped component whenever it renders.\n */\n\n\nexport default withRouter(Register);","map":{"version":3,"sources":["/Users/Johann/Desktop/UZH/4. Semester/SoPra/code/client/src/components/register/Register.js"],"names":["React","styled","BaseContainer","getDomain","User","withRouter","Button","FormContainer","div","Form","InputField","input","Label","label","ButtonContainer","Register","state","birthday","username","password","fetch","method","headers","body","JSON","stringify","then","response","json","returnedUser","user","props","history","push","catch","err","message","match","alert","key","value","setState","e","handleInputChange","target","register","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport { BaseContainer } from \"../../helpers/layout\";\nimport { getDomain } from \"../../helpers/getDomain\";\nimport User from \"../shared/models/User\";\nimport { withRouter } from \"react-router-dom\";\nimport { Button } from \"../../views/design/Button\";\n\nconst FormContainer = styled.div`\n  margin-top: 2em;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 300px;\n  justify-content: center;\n`;\n\nconst Form = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 60%;\n  height: 375px;\n  font-size: 16px;\n  font-weight: 300;\n  padding-left: 37px;\n  padding-right: 37px;\n  border-radius: 5px;\n  background: linear-gradient(rgb(27, 124, 186), rgb(2, 46, 101));\n  transition: opacity 0.5s ease, transform 0.5s ease;\n`;\n\nconst InputField = styled.input`\n  &::placeholder {\n    color: rgba(255, 255, 255, 0.2);\n  }\n  height: 35px;\n  padding-left: 15px;\n  margin-left: -4px;\n  border: none;\n  border-radius: 20px;\n  margin-bottom: 20px;\n  background: rgba(255, 255, 255, 0.2);\n  color: white;\n`;\n\nconst Label = styled.label`\n  color: white;\n  margin-bottom: 10px;\n  text-transform: uppercase;\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n`;\n\n/**\n * Classes in React allow you to have an internal state within the class and to have the React life-cycle for your component.\n * You should have a class (instead of a functional component) when:\n * - You need an internal state that cannot be achieved via props from other parent components\n * - You fetch data from the server (e.g., in componentDidMount())\n * - You want to access the DOM via Refs\n * https://reactjs.org/docs/react-component.html\n * @Class\n */\nclass Register extends React.Component {\n    /**\n     * If you don’t initialize the state and you don’t bind methods, you don’t need to implement a constructor for your React component.\n     * The constructor for a React component is called before it is mounted (rendered).\n     * In this case the initial state is defined in the constructor. The state is a JS object containing two fields: name and username\n     * These fields are then handled in the onChange() methods in the resp. InputFields\n     */\n    constructor() {\n        super();\n        this.state = {\n            birthday: null,\n            username: null,\n            password: null\n        };\n    }\n    /**\n     * HTTP POST request is sent to the backend.\n     * If the request is successful, a new user is returned to the front-end and its token is stored in the localStorage.\n     */\n    register() {\n        fetch(`${getDomain()}/users`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n\n            body: JSON.stringify({\n                username: this.state.username,\n                birthday: this.state.birthday,\n                password: this.state.password\n            })\n        })\n            .then(response => response.json())\n            .then(returnedUser => {\n                const user = new User(returnedUser);\n                // user login successfully worked --> navigate to the route /login in the GameRouter\n                this.props.history.push(`/login`);\n            })\n            .catch(err => {\n                if (err.message.match(/Failed to fetch/)) {\n                    alert(\"The server cannot be reached. Did you start it?\");\n                } else if (err.message.match(/JSON.parse/)){\n                    alert(\"Username is already occupied\");\n                }\n                else {\n                    alert(`Something went wrong during the Registration: ${err.message}`);\n                }\n            });\n    }\n\n\n    /**\n     *  Every time the user enters something in the input field, the state gets updated.\n     * @param key (the key of the state for identifying the field that needs to be updated)\n     * @param value (the value that gets assigned to the identified state key)\n     */\n    handleInputChange(key, value) {\n        // Example: if the key is username, this statement is the equivalent to the following one:\n        // this.setState({'username': value});\n        this.setState({ [key]: value });\n    }\n\n    /**\n     * componentDidMount() is invoked immediately after a component is mounted (inserted into the tree).\n     * Initialization that requires DOM nodes should go here.\n     * If you need to load data from a remote endpoint, this is a good place to instantiate the network request.\n     * You may call setState() immediately in componentDidMount().\n     * It will trigger an extra rendering, but it will happen before the browser updates the screen.\n     */\n    componentDidMount() {}\n\n    render() {\n        return (\n            <BaseContainer>\n                <FormContainer>\n                    <Form>\n                        <Label>Username</Label>\n                        <InputField\n                            placeholder=\"Enter here..\"\n                            onChange={e => {\n                                this.handleInputChange(\"username\", e.target.value);\n                            }}\n                        />\n                        <Label>Birthday</Label>\n                        <InputField\n                            placeholder=\"Enter here.. DD:MM:YYYY\"\n                            onChange={e => {\n                                this.handleInputChange(\"birthday\", e.target.value);\n                            }}\n                        />\n                        <Label>Password</Label>\n                        <InputField\n                            placeholder=\"Enter here..\"\n                            onChange={e => {\n                                this.handleInputChange(\"password\", e.target.value);\n                            }}\n                        />\n                        <ButtonContainer>\n                            <Button\n                                disabled={!this.state.username || !this.state.password}\n                                width=\"50%\"\n                                onClick={() => {\n                                    this.register();\n                                }}\n                            >\n                                Register\n                            </Button>\n                        </ButtonContainer>\n\n                    </Form>\n                </FormContainer>\n            </BaseContainer>\n        );\n    }\n}\n\n/**\n * You can get access to the history object's properties via the withRouter.\n * withRouter will pass updated match, location, and history props to the wrapped component whenever it renders.\n */\nexport default withRouter(Register);\n"]},"metadata":{},"sourceType":"module"}